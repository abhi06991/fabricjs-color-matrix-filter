!function(t){"use strict";var e=t.fabric||(t.fabric={});e.Image.filters.ColorMatrix=e.util.createClass(e.Image.filters.BaseFilter,{type:"ColorMatrixFilter",applyTo:function(t){var e,r,a,i,o,l=t.getContext("2d"),f=l.getImageData(0,0,t.width,t.height),s=f.data,n=s.length,g=this.matrix;for(e=0;n>e;e+=4)r=s[e],a=s[e+1],i=s[e+2],o=s[e+3],s[e]=r*g[0]+a*g[1]+i*g[2]+o*g[3]+g[4],s[e+1]=r*g[5]+a*g[6]+i*g[7]+o*g[8]+g[9],s[e+2]=r*g[10]+a*g[11]+i*g[12]+o*g[13]+g[14],s[e+3]=r*g[15]+a*g[16]+i*g[17]+o*g[18]+g[19];l.putImageData(f,0,0)}}),e.Image.filters.ColorMatrix.fromObject=function(t){return new e.Image.filters.ColorMatrix(t)}}("undefined"!=typeof exports?exports:this);
